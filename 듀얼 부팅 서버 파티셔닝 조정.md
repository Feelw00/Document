듀얼 부팅 서버 파티셔닝 조정에 대한 회고입니다.

### 서론

사용하지 않던 데스크탑에 파티션을 분할하여 빌드 및 배포 용도로 사용하던 중 분할한 파티션의 용량이 부족해 빌드 에러가 발생하게 되었습니다.

해당 프로젝트의 경우 개발 진행중인 상태로 하루에도 여러번의 배포가 이루어졌으며 또한 파티션 분할 시 많은 용량을 할당하지 않았기 때문에 발생한 것으로 확인했습니다.

다음은 윈도우 서버의 스토리지를 줄이고 우분투 서버의 스토리지를 늘리는 방법에 대해 정리한 내용입니다.


### 윈도우 서버의 스토리지 줄이기

윈도우 서버의 스토리지를 줄이기 위해서는 디스크 관리를 실행하여 디스크 용량을 줄일 수 있습니다.

1. 윈도우 서버의 디스크 관리를 실행합니다.
2. 원하는 디스크를 우클릭하여 볼륨 축소를 선택합니다.
3. 축소할 용량을 입력하고 축소를 진행합니다.

### 우분투 서버의 스토리지 늘리기

윈도우 서버에서 우분투 서버의 스토리지를 늘리기 위해서는 별도의 유료 소프트웨어를 사용해야 합니다.

윈도우 서버에서 스토리지를 줄인 후 재부팅하여 우분투 서버에 접속 후 gparted를 설치하여 스토리지를 늘릴 수 있습니다.

1. gparted 설치
```bash
sudo apt install gparted
```

2. gparted readonly 문제 해결

gparted 실행 시 readonly로 인해 파티션을 조작할 수 없는 문제가 발생할 수 있습니다.

이는 마운트된 파티션을 언마운트 하거나 read/write로 재마운트하여 해결할 수 있습니다.

마운트된 디렉토리의 경로는 gparted에서 확인할 수 있습니다.

```bash
sudo mount -o remount,rw {마운트된 디렉토리의 경로}
```

### 파티션 조정 불가능 이슈

윈도우 서버의 파티션을 축소하고 우분투 서버의 파티션을 늘리는 과정에서 할당되지 않은 공간을 기존 파티션에 할당할 수 없는 문제가 발생했습니다.

이는 확장이 필요한 우분투 서버에 접속하여 gparted를 실행하고 있었기 때문에 발생한 문제로 마운트된 디렉터리를 해제하고 gparted를 실행해야 합니다.

이 문제를 해결하기 위해서는 live cd 또는 추가적인 파티션에 우분투를 설치하여 gparted를 실행해야 합니다.

### 마치며

윈도우 서버의 스토리지를 줄이고 우분투 서버의 스토리지를 늘리는 방법을 찾아보았습니다.

최근에는 물리 디스크에 직접 듀얼 부팅을 하지 않고 가상 머신을 사용하거나 클라우드 서비스를 사용하는 경우가 많아 자료를 찾기 어려웠지만 물리 서버를 직접 컨트롤 할 수 있는 좋은 경험이었습니다.

일반적으로 웹 개발자가 이런것도 하는건가? 대학교를 다시 다니는 기분이었습니다.